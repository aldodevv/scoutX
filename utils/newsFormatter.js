const RSSParser = require('./rssParser');

class NewsFormatter {
  static formatNewsMessage(newsItems) {
    if (!newsItems || newsItems.length === 0) {
      return 'ğŸ“° *Update Berita* ğŸ“°\n\nâŒ Tidak ada berita baru yang sesuai filter.';
    }

    const header = `ğŸ“° *UPDATE BERITA TERKINI* ğŸ“°\nğŸ•’ ${new Date().toLocaleString('id-ID')}\n\n`;
    
    const newsText = newsItems.map((item, index) => {
      return `${index + 1}. ${RSSParser.formatNewsItem(item, item.sourceName)}`;
    }).join('\n');

    const footer = `\nğŸ“Š Total: ${newsItems.length} berita\nâš¡ Auto-generated by RSS Bot`;
    
    return header + newsText + footer;
  }

  static formatErrorMessage(error) {
    return `âŒ *Error Update Berita* âŒ\n\nğŸ”§ ${error.message}\nâ° ${new Date().toLocaleString('id-ID')}`;
  }
}

module.exports = NewsFormatter;
